{% extends "base.html" %}
{% block title %}Log {{ log.pk }}{% endblock %}
{% block main_content %}

    <a href="{% url 'logs' %}"
       class="inline-flex items-center rounded-md border border-white/10 px-3 py-1.5 hover:bg-slate-800">Back to
        Logs</a>

    <article class="mt-3 rounded-2xl border border-white/10 bg-slate-900/80 p-6 shadow">
        <header class="mb-2">
            <h3 class="m-0 text-xl py-.5 font-semibold">
                Log message
                <small class="align-middle rounded-lg border border-white/10 text-md font-medium">
                    {{ log.level|upper }}
                </small>
            </h3>
            <p class="m-0 text-sm text-slate-400">{{ log.timestamp|date:"Y-m-d H:i:s T" }}</p>
        </header>

        <section class="text-slate-100">
            {{ log.message }}
        </section>

        <hr class="my-4 border-white/10">

        <section class="grid gap-6 md:grid-cols-2">
            <div>
                <h4 class="mb-2 font-semibold">Source</h4>
                <ul class="space-y-1 text-slate-200">
                    <li><strong>Type:</strong> {{ source.source_type }}</li>
                    <li><strong>Path:</strong> <code>{{ source.path }}</code></li>
                    <li><strong>Parser:</strong> {{ source.parser|default:"none" }}</li>
                    <li><strong>Added:</strong> {{ source.created_at|date:"Y-m-d H:i" }}</li>
                </ul>
            </div>
            <div>
                <h4 class="mb-2 font-semibold">Service</h4>
                <ul class="space-y-1 text-slate-200">
                    <li><strong>Name:</strong> {{ service.name }}</li>
                    <li><strong>Host:</strong> {{ service.hostname }}:{{ service.port }}</li>
                    <li><strong>Status:</strong> {{ service.status }}</li>
                    <li><strong>Type:</strong> {{ service.type }}</li>
                </ul>
            </div>
        </section>

        <details class="mt-3 rounded-lg border border-white/10 bg-slate-900 px-4 py-3">
            <summary class="cursor-pointer font-semibold">Raw object ids</summary>
            <ul class="mt-2 space-y-1 text-sm text-slate-300">
                <li><strong>Log id:</strong> {{ log.pk }}</li>
                <li><strong>Source id:</strong> {{ source.pk }}</li>
                <li><strong>Service id:</strong> {{ service.pk }}</li>
            </ul>
        </details>
    </article>

{% endblock %}
