{% extends "base.html" %}
{% block title %} Log {{ log.pk }}{% endblock %}
{% block main_content %}
    <style>
    .icon{
        font-size: 0.7em;
        padding: 0.15em 0.5em;
        border: 1px solid #ccc;
        border-radius: 0.5rem;
        vertical-align: middle;
    }
    .container{
        max-width: 900px;
        margin-top:.75rem;
    }
    .return{
        padding: 0.15em 0.5em;
        border: 1px solid #ccc;
        border-radius: 0.5rem;
    }
    .card{
        padding: 1rem;
        margin-top:.75rem;
    }
    .timestamp{
        margin: 0.25rem 0 0 0;
        color: #606060;
    }
    </style>
    <section class="container">
        <a href="{% url "logs" %}" class="invis-a return hover-effect">Back to Logs</a>

        <article class="card">
            <header style="margin-bottom: 0.5rem;">
                <h3 style="margin: 0;">
                    Log message
                    <small class="icon">
                        {{ log.level|upper }}
                    </small>
                </h3>
                <p class="timestamp">
                    {{ log.timestamp|date:"Y-m-d H:i:s T" }}
                </p>
            </header>

            <section>
                {{ log.message }}
            </section>

            <hr>

            <section>
                <h3 style="margin-top: 0;">Context</h3>
                <div class="grid">
                    <div>
                        <h4 style="margin-bottom: 0.4rem;">Source</h4>
                        <ul>
                            <li><strong>Type:</strong> {{ source.source_type }}</li>
                            <li><strong>Path:</strong> <code>{{ source.path }}</code></li>
                            <li><strong>Parser:</strong> {{ source.parser|default:"none" }}</li>
                            <li><strong>Added:</strong> {{ source.created_at|date:"Y-m-d H:i" }}</li>
                        </ul>
                    </div>
                    <div>
                        <h4 style="margin-bottom: 0.4rem;">Service</h4>
                        <ul>
                            <li><strong>Name:</strong> {{ service.name }}</li>
                            <li><strong>Host:</strong> {{ service.hostname }}:{{ service.port }}</li>
                            <li><strong>Status:</strong> {{ service.status }}</li>
                            <li><strong>Type:</strong> {{ service.type }}</li>
                        </ul>
                    </div>
                </div>
            </section>

            <details style="margin-top: 0.5rem;">
                <summary>Raw object ids</summary>
                <ul>
                    <li><strong>Log id:</strong> {{ log.pk }}</li>
                    <li><strong>Source id:</strong> {{ source.pk }}</li>
                    <li><strong>Service id:</strong> {{ service.pk }}</li>
                </ul>
            </details>
        </article>


    </section>



{% endblock %}